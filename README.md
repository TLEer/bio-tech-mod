# bio-tech-mod

### 原则

- 由生物引入, 逻辑链清晰
- 原版风, 与各类生存模组兼容
- 奖励与获取难度相当 - 考虑重复游玩玩家及初见玩家

### 主题

#### 幻影

<!-- 原本写的感觉不是很合适,所以打算拆成两个. -->

##### 幻雾

可变幻形态至 *僵尸; 骷髅; 苦力怕; 蜘蛛; 恼鬼* 及其变种.

`// 代码实现上,变形期间直接使用原版生物增加tag,避免被显示生物类模组暴露.`

位置被方块覆盖时, 总是变为恼鬼.

死亡后化为紫雾, 逐渐汇聚, 然后变为新生物.

雾态下不与实体交互(被击中, 碰撞, 点燃, 状态效果, 常规伤害与治疗...)

`// 可以设置为非生物实体?似乎非生物的实体本就不参与各类互动,如果不手动继承抽象类的话.`

雾态下不会阻止玩家在其位置放置方块, 并且不会被方块挤走(留在原地穿墙, 无窒息伤害).

雾态下被 *玻璃瓶* 装取, 发出惨叫, 减少 *2* 血量(即每次生物形态的初始血量), 并使玻璃瓶变为 [*不定残躯*](# 不定残躯) .

血量低于 4 时, 播放 *蒸发, 惨叫* 音效, 并删除(死亡, 但不使用生物死亡的接口, 避免变红倒下和其它粒子).

血量高于 *40* 时, 替换为 *[大团幻雾](# 大团幻雾)* .

生成: *主世界* 亮度为0的 *草方块* 上, 以确保不会影响到正常生电机器, 血量 *15 - 30* 内随机.

区块卸载时删除.

##### 大团幻雾

与幻雾基本相同, 体积更大.

可变幻形态至 *唤魔者; 卫道士; 末影人; 猪灵蛮兵; 烈焰人; 恼鬼巨人* .

位置被方块覆盖时, 总是变为恼鬼巨人(恼鬼模型放大, 攻击力提高).

汇聚速度(生物形态死亡后重生速度)较慢.

血量低于 *41* 时, 替换为 *[幻雾](# 幻雾)* .

血量高于 *70* 时, 替换为 *[无形闪烁](# 无形闪烁)* .

##### 无形闪烁

可变幻形态至 *凋灵; 循声守卫; 掠夺兽; 远古守卫者* .

汇聚速度极慢.

位置被方块覆盖时, 总是变为凋灵.

雾态下不断试图分裂出血量 *4-10* 的 *[幻雾](# 幻雾)* .

`//随机刻触发,血量越多,概率越大.`

`//周围位置生成幻雾,自身扣除相应血量.`

生物在雾态碰撞箱内受到 *凋零* 效果.

血量低于 *41* 时, 替换为 *[大团幻雾](# 大团幻雾)* .

血量高于 *70* 时, 颜色开始闪烁, 随后爆炸, 掉落 [幻形](# 幻形) .

##### 不定残躯

被饮用时令饮用者 *爆体而亡* .

被任意材料炼药获得 *不稳定的残渣* . <!-- 可能后续配合其它主题有用?  -->

右键 *其它方块和实体* 播放 *蒸发* 音效并替换为玻璃瓶.

右键 *幻雾 雾态* 释放残躯, 令幻雾血量加 *1* .

##### 幻形

被服食后使玩家的一颗心永久变为紫色(从最左侧), 当玩家剩余血量减少至紫色血量数时, 或受到过量伤害时, 防止多余的伤害, 并变形为紫雾. 期间不会丢失仇恨, 不会被攻击, 不会被发射物命中, 可以快速移动, 不可以使用物品栏, 持续 *两秒* .

```java
//触发条件: 伤害前血量 *大于* 紫色血量; 伤害前血量 *减* 伤害量 *小于等于* 紫色血量.
//触发后: 将伤害量调整为 伤害前血量 *减* 紫色血量, 然后应用变幻效果.

//例如: 一名玩家拥有两颗紫心, 则其紫色血量为4.

//假设该玩家目前血量为6:
//	若玩家此时受到1伤害,6 - 1 = 5 > 4,不触发.
//	若玩家此时受到2伤害,6 - 2 = 4 = 4,触发效果.
//	若玩家此时受到7伤害,6 - 7 = -1 < 4,将伤害量调整为 6 - 4 = 2, 因此伤害后玩家血量恰好为 6 - 2 = 4 = 紫色血量,然后触发效果.

//假设该玩家目前血量为3:
//	无论受何伤害,均不触发效果.
```

可以与一个 *鸡蛋* 无序合成 *幻雾蛋* , 右键方块生成 *[幻雾幼体](# 幻雾幼体)* .

##### 幻雾幼体

体积更小.

血量固定为 *20* .

不与 *玻璃瓶, 不定残躯* 互动.

绑定生成其的玩家为主人, 右键幻雾幼体可切换站岗或跟随.

与 与主人敌对的生物 敌对.

不会被删除.

其余与 *[幻雾](# 幻雾)* 相同.